import{d as H,c as g,i as m,a as p,b as $,F as E,t as k,e as F,r as W}from"./vendor.f0eb2c2b.js";const M=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function a(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=a(e);fetch(e.href,n)}};M();const B="_clips_1uq5q_6",Y="_App_1uq5q_28",G="_fxs_1uq5q_37",K="_fx_1uq5q_37",J="_header_1uq5q_46",U="_selected_1uq5q_86",Q="_panel_1uq5q_92",j="_track_1uq5q_97",z="_clip_1uq5q_6",Z="_clip_key_1uq5q_146",ee="_slider_1uq5q_178",te="_slider_handle_1uq5q_184",ne="_link_1uq5q_233",ie="_gradient_1uq5q_1";var _={clips:B,App:Y,fxs:G,fx:K,header:J,selected:U,panel:Q,track:j,clip:z,clip_key:Z,slider:ee,slider_handle:te,link:ne,gradient:ie,"logo-spin":"_logo-spin_1uq5q_1"};function re(t=()=>{},s=()=>{}){return new Promise(a=>{const r=e=>{window.removeEventListener("pointermove",t),window.removeEventListener("pointerup",r),a(e)};window.addEventListener("pointermove",t),window.addEventListener("pointerup",r)})}const w=k("<div></div>"),se=k("<button><br><br><span></span></button>"),D=k("<button></button>"),le=k("<div><span></span><span></span></div>"),ae=k("<div><label></label><label></label></div>"),oe=k("<div><header></header><div></div><div></div><div></div></div>"),I=new WebSocket("ws://localhost:8080"),T=(t,s)=>{I.send(JSON.stringify([t,s]))},R={C:0/11,"C#":1/11,Db:1/11,D:2/11,"D#":3/11,Eb:3/11,E:4/11,F:5/11,"F#":6/11,Gb:6/11,G:7/11,"G#":8/11,Ab:8/11,A:9/11,"A#":10/11,Bb:10/11,B:11/11},ce=function(t){const s=F(()=>{if(!t.track)return;let[a,[r]]=t.track;return r});return(()=>{const a=w.cloneNode(!0);return m(a,p(E,{get each(){return s()},children:r=>(()=>{const e=D.cloneNode(!0);return e.$$click=()=>t.playClip([t.track[0],r]),m(e,()=>r.toUpperCase()),$(()=>e.className=_.clip),e})()})),$(()=>a.className=[_.clips]),a})()},de=function(t){const s=F(()=>{if(!t.track)return;let[r,[e]]=t.track;return e.map(n=>[...n.split("-").map(i=>i.trim().replace(/_/g," ")),n]).sort(([,n],[,i])=>R[n]>R[i])}),a=(r,e)=>{t.playClip([t.track[0],r]),t.updateAutotune(e)};return(()=>{const r=w.cloneNode(!0);return m(r,p(E,{get each(){return s()},children:([e,n,i])=>(()=>{const c=se.cloneNode(!0),o=c.firstChild,d=o.nextSibling,h=d.nextSibling;return c.$$click=()=>a(i,n),m(c,()=>e.toUpperCase(),o),m(h,n),$(f=>{const y=_.clip,X=_.clip_key;return y!==f._v$3&&(c.className=f._v$3=y),X!==f._v$4&&(h.className=f._v$4=X),f},{_v$3:void 0,_v$4:void 0}),c})()})),$(()=>r.className=[_.clips]),r})()},ue=t=>{let s,[a,r]=g(t.value);const e=async n=>{let i,c=n.clientY;await re(o=>{if(performance.now()-i<1e3/60)return;i=performance.now();let d=c-o.clientY;d/=s.offsetHeight,d*=t.max,r(h=>Math.max(t.min,Math.min(t.max,h+d))),t.updateValue(a()),c=o.clientY})};return(()=>{const n=le.cloneNode(!0),i=n.firstChild,c=i.nextSibling;i.$$mousedown=e;const o=s;return typeof o=="function"?o(c):s=c,$(d=>{const h=_.slider,f=_.slider_handle,y=(a()-t.min)/(t.max-t.min)*100+"%";return h!==d._v$5&&(n.className=d._v$5=h),f!==d._v$6&&(i.className=d._v$6=f),y!==d._v$7&&i.style.setProperty("bottom",d._v$7=y),d},{_v$5:void 0,_v$6:void 0,_v$7:void 0}),n})()},_e=t=>{const[s,a]=g(t.value),r=e=>{a(e),t.sendFX([...t.path,e*100])};return(()=>{const e=ae.cloneNode(!0),n=e.firstChild,i=n.nextSibling;return m(n,()=>parseInt(s()*100)/100),m(e,p(ue,{get value(){return s()},get max(){return t.options.max},get min(){return t.options.min},updateValue:r}),i),m(i,()=>t.options.name),$(()=>e.className=_.fx),e})()},me=t=>{const s=[{path:["VOX","OrilRiver","Decay time"],options:{min:0,max:1,name:"VOX REV DEC"}},{path:["VOX","OrilRiver","Wet"],options:{min:0,max:1,name:"VOX REV WET"}},{path:["VOX","Lo-PassFilter","Frequency"],options:{min:20,max:135,name:"VOX LPF FRQ"}},{path:["TRX","OrilRiver","Decay time"],options:{min:0,max:1,name:"TRX REV DEC"}},{path:["TRX","OrilRiver","Wet"],options:{min:0,max:1,name:"TRX REV WET"}},{path:["TRX","Echo","Dry Wet"],options:{min:0,max:1,name:"TRX DEL WET"}},{path:["TRX","Echo","Feedback"],options:{min:0,max:1,name:"TRX DEL FDB"}},{path:["TRX","Echo","L Time"],options:{min:0,max:1,name:"TRX DEL TIM"}}],a=F(()=>!t.map[0]||!t.map[1]?void 0:s.map(({path:[e,n,i],options:c})=>[[e,n,i],t.map.find(([o])=>o===e)[1][1].find(([o])=>o===n)[1].find(([o])=>o===i)[1],c]));return(()=>{const r=w.cloneNode(!0);return m(r,p(E,{get each(){return a()},children:([e,n,i])=>p(_e,{path:e,value:n,options:i,get sendFX(){return t.sendFX}})})),$(()=>r.className=_.fxs),r})()};function ve(){g();const[t,s]=g(),[a,r]=g(),[e,n]=g();g();const[i,c]=g("FX"),o=["TRX","FX","HIT"],d=u=>{s(u.find(([v])=>v==="TRX")),n(u.find(([v])=>v==="VOX")),r(u.find(([v])=>v==="HIT"))};(async()=>{I.addEventListener("message",u=>{const[v,b]=JSON.parse(u.data);switch(v){case"init":d(b);break}})})();const f=u=>T("fx",u),y=u=>T("clip",u),X=u=>T("fx",["VOX","Auto-Tune Artist","Key",R[u]*100]);return(()=>{const u=oe.cloneNode(!0),v=u.firstChild,b=v.nextSibling,q=b.nextSibling,N=q.nextSibling;return m(v,p(E,{each:o,children:l=>(()=>{const x=D.cloneNode(!0);return x.$$click=()=>c(l),m(x,l),$(()=>x.className=i()===l?_.selected:""),x})()})),m(b,p(de,{playClip:y,updateAutotune:X,get track(){return t()}})),q.style.setProperty("height","100%"),m(q,p(me,{sendFX:f,get map(){return[e(),t()]}})),N.style.setProperty("height","100%"),m(N,p(ce,{playClip:y,get track(){return a()}})),$(l=>{const x=_.App,O=_.header,L=_.panel,V=i()==="TRX"?"inline-block":"none",C=_.panel,S=i()==="FX"?"inline-block":"none",A=_.panel,P=i()==="HIT"?"inline-block":"none";return x!==l._v$8&&(u.className=l._v$8=x),O!==l._v$9&&(v.className=l._v$9=O),L!==l._v$10&&(b.className=l._v$10=L),V!==l._v$11&&b.style.setProperty("display",l._v$11=V),C!==l._v$12&&(q.className=l._v$12=C),S!==l._v$13&&q.style.setProperty("display",l._v$13=S),A!==l._v$14&&(N.className=l._v$14=A),P!==l._v$15&&N.style.setProperty("display",l._v$15=P),l},{_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0}),u})()}H(["click","mousedown"]);W(()=>p(ve,{}),document.getElementById("root"));
